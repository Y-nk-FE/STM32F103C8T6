##### 句柄

从广义上来说，能够从一个数值拎起一大堆数据的东西都可以叫做句柄。

HANDLE：句柄，是WINDOWS用来表示对象的，是一个通用句柄表示。
在WINDOWS程序中，有各种各样的资源（窗口、图标、光标等），系统在创建这些资源时为他们分配内存，并返回标示这些资源的标示号，即句柄。
但是如果这些资源的位置变了呢？
HANDLE是固定的，不会变，但是对象的地址会变，当对象在内存中的位置发生改变后，我们不能通过之前的对象指针找到对象。HANDLE能用来记录对象的最新地址。
也就是说，HANDLE像是中间商，联络着WINDOWS API和看不见的对象，所以可以通过HANDLE让对象做事。（不能让我们知道对象的内存地址是因为操作系统怕受到不利操作）。

Windows系统中有许多内核对象（这里的对象不完全等价于“面向对象程序设计”一词中的“对象”，虽然实质上还真差不多），比如打开的文件，创建的线程，程序的窗口等。这些重要的对象肯定不是4个字节或8个字节足以完全描述的，它们拥有大量的属性。为了保存这样一个“对象”的状态，往往需要上百甚至上千字节的内存空间，那么怎么在程序间或程序内部的子过程（函数）之间传递这些数据呢？拖着这成百上千的字节拷贝显然会浪费效率。如果传递这些对象的首地址，则存在以下两个缺点：

1）暴露了内核对象本身，使得程序（而不是操作系统内核）也可以任意地修改对象的内部状态，这显然是操作系统内核所不能允许的；

2）操作系统有定期整理内存的责任，如果一些内存整理过一次，对象被搬走，会出现错误。

##### TCHAR-数据类型

##### CreateFile()-函数

```c++
HANDLE CreateFile(
 	_In_ LPCSTR lpFileName,//指向文件名的指针
    _In_ DWORD dwDesiredAccess,// 访问模式（写 / 读）
    _In_ DWORD dwShareMode,// 共享模式 
    _In_opt_ LPSECURITY_ATTRIBUTES lpSecurityAttributes,// 指向安全属性的指针
    _In_ DWORD dwCreationDisposition,// 如何创建
    _In_ DWORD dwFlagsAndAttributes, // 文件属性 
    _In_opt_ HANDLE hTemplateFile// 用于复制文件句柄 
);

```

